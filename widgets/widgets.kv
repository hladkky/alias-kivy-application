#:import win kivy.core.window

<FontLabel>:
  text: ''
  font_name: "./fonts/GothamPro-Regular"
  font_size: "20sp"
  theme_text_color: "Custom"
  text_color: WHITE_COLOR


<BoldFontLabel>:
  text: ''
  font_name: "./fonts/GothamPro-Bold"
  font_size: "20sp"
  theme_text_color: "Custom"
  text_color: WHITE_COLOR


<TextButton>:
  font_name: BOLD_FONT
  font_size: "20sp"
  theme_text_color: "Custom"
  text_color: WHITE_COLOR
  pos_hint: {"center_x": .5, "center_y": .5}


<OutlineButton>
  color: PINK_COLOR
  font_name: BOLD_FONT
  font_size: "20sp"
  theme_text_color: "Custom"
  text_color: PINK_COLOR 
  ripple_color: DARK_PINK_COLOR
  ripple_alpha: .5
  canvas.before:
    Color:
      rgba: PINK_COLOR
    Line:
      width: 2
      rectangle: self.x-2, self.y-2, self.width+4, self.height+4
      joint: "miter"


<TeamLabel>:
  size_hint_y: None
  height: root.height
  elevation: 0
  padding: "20dp", "15dp", "0dp", "10dp"
  
  canvas.before:
    Color:
      rgba: 1, 1, 1, 1
    BorderImage:
      source: "./assets/imgs/team_label.png"
      border: 0, 0, 0, 0
      pos: self.pos
      size: self.size
  
  BoldFontLabel:
    text: root.text
    size_hint: .85, 1

  MDFloatLayout:
    size_hint: .15, 1
    
    BoldFontLabel:
      id: score_label
      pos: self.parent.pos
      halign: "center"
      text: ''
    
    MDFloatLayout:
      pos: self.parent.pos
      id: close_icon_button_container


<ScreenTitle@MDFloatLayout>:
  title: ''
  size_hint: 1, 0.1
  pos_hint: {"top": 1, "center_x": .5}
    
  BoldFontLabel:
    text: root.title
    font_size: "24sp"
    halign: "center"
    pos_hint: {"center_x": .5, "center_y": .5}
  
  MDSeparator:
    size_hint_x: .9
    pos_hint: {"top": 0, "center_x": .5}
    height: "2dp"
    opacity: 1
    color: PINK_COLOR


<ScreenBottomButton@MDFloatLayout>:
  button_text: ''
  size_hint: 1, 0.1
  pos_hint: {"top": .15, "center_x": .5}
  
  MDFlatButton:
    id: button
    size_hint: 1, 1
    pos_hint: {"top": 1, "center_x": .5}
    ripple_color: DARK_PINK_COLOR
    
    BoldFontLabel:
      text: root.button_text
      font_size: "24sp"
      halign: "center"
      size_hint: 1, 1
      pos_hint: {"top": 1, "center_x": .5}
  
  MDSeparator:
    size_hint_x: .9
    pos_hint: {"top": 1, "center_x": .5}
    height: "3dp"
    opacity: 1
    color: PINK_COLOR


<CloseIcon>:
  icon: "plus-thick"
  user_font_size: "32sp"
  theme_text_color: "Custom"
  text_color: 1, 1, 1, 1
  size_hint: None, None
  size: "48dp", "48dp"
  pos_hint: {"center_x": .5, "center_y": .6}
  canvas.before:
    PushMatrix
    Rotate:
      angle: 45
      origin: self.center
  canvas.after:
    PopMatrix


<PrimaryIcon@MDIconButton>:
  size_hint: None, None
  user_font_size: "42sp"
  width: "40dp"
  height: "40dp"
  theme_text_color: "Custom"
  text_color: WHITE_COLOR
  pos_hint: {"center_x": .5, "center_y": .5}


<DictionaryCarouselItem>:
  font_name: BOLD_FONT
  theme_text_color: "Custom"
  font_size: "30sp"
  ripple_color: DARK_PINK_COLOR
  ripple_alpha: 0
  size_hint: .7, .6
  pos_hint: {"center_x": .5, "center_y": .5}

  MDStackLayout:
    size_hint: 1, 1

    BoldFontLabel:
      id: dict_name
      text: root.title
      color: PINK_COLOR
      text_size: self.size
      halign: "center"
      valign: "bottom"
      size_hint_y: .6
      font_size: "13sp"

    FontLabel:
      text: root.description
      font_size: "12sp"
      text_size: self.size
      halign: "center"
      valign: "center"
      size_hint_y: .4


<DropDownLayout>:
  Image:
    pos: root.pos
    height: root.height
    width: root.width
    source: "./assets/imgs/dropdown.png"
    allow_stretch: True
    keep_ratio: False

  Carousel:
    id: carousel
    scroll_distance: "0dp"
    md_bg_color: RED_COLOR
    size_hint: 1, 1
    pos: root.pos
    loop: True

  MDFloatLayout:
    size_hint: 1, 1
    pos: root.pos

    MDBoxLayout:
      pos: root.pos
      padding: "5dp", "20dp"
      orientation: "horizontal"
      id: drop_down_box
      opacity: 0
      rows: 1
      size_hint: 1, 1
      width: root.width
      
      PrimaryIcon:
        id: icon_left
        icon: "chevron-left"
        on_press: carousel.load_previous()

      MDBoxLayout:
        size_hint: 1, None
        
      PrimaryIcon:
        id: icon_right
        icon: "chevron-right"
        on_press: carousel.load_next()


<ConfigSlider@MDSlider>:
  id: slider
  min: 10
  max: 120
  value: 50
  step: 5
  thumb_color_down: PINK_COLOR


<CustomScroll@ScrollView>:
  bar_color: 0,0,0,0
  bar_inactive_color: 0,0,0,0


<GameCard>:
  do_rotation: False
  do_scale: False
  size_hint: None, None
  size: card_layout.size

  MDFloatLayout:
    id: card_layout
    size_hint: None, None

    width: win.Window.width * .6
    height: self.width / image.image_ratio

    Image:
      id: image
      size_hint: 1, 1
      source: "./assets/imgs/cardfront.png"
    
    FontLabel:
      padding: ("15dp", "15dp")
      text: root.title
      halign: "center"


<TeamLabelSubmitLastWord>:
  size_hint: 1, None
  height: "50dp"
  pos_hint: {"center_x": .5}

  FontLabel:
    id: guessed_team
    text: root.team
    size_hint: .8, 1

  AnchorLayout:
    size_hint: .2, 1
    center_x: .5
    center_y: .5

    MDCheckbox:
      id: check_word
      group: 'last_word_guessed'
      size_hint: None, None
      size: "40dp", "40dp"
      selected_color: WHITE_COLOR
      unselected_color: WHITE_COLOR


<WordLabel>:
  size_hint: 1, None
  height: "40dp"
  pos_hint: {"center_x": .5}

  FontLabel:
    text: root.word
    size_hint: .8, 1

  AnchorLayout:
    size_hint: .2, 1
    center_x: .5
    center_y: .5

    MDCheckbox:
      id: check_word
      size_hint: None, None
      size: "40dp", "40dp"
      active: root.checked
      selected_color: WHITE_COLOR
      unselected_color: WHITE_COLOR


<WordLabelWithTeam>:
  size_hint: 1, None  
  height: "70dp"
  pos_hint: {"center_x": .5}

  MDBoxLayout:
    orientation: "vertical"
    size_hint: .8, 1
    
    FontLabel:
      text: root.word
      text_size: self.size
      valign: "bottom"
    
    FontLabel:
      text: root.team
      text_size: self.size
      font_size: "16sp"
      valign: "top"

  AnchorLayout:
    size_hint: .2, 1
    center_x: .5
    center_y: .5

    PrimaryIcon:
      id: change_guessed_team
      user_font_size: "32sp"
      icon: "swap-horizontal-bold"
      pos_hint: {"center_x": .5, "center_y": .5}
      theme_text_color: "Custom"
      text_color: WHITE_COLOR


<TimerBar@MDFloatLayout>:
  canvas.before:
    Color:
      rgba: PINK_COLOR
    RoundedRectangle:
      size: (self.width, 4)
      pos: self.pos
      radius: [5, 5, 5, 5]
